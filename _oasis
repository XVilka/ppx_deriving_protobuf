OASISFormat:  0.4
Name:         ppx_protobuf
Version:      0.1
Synopsis:     A Protobuf codec generator for OCaml >=4.02 based on extension points
Authors:      Peter Zotov <whitequark@whitequark.org>
License:      MIT
Plugins:      META (0.4), DevFiles (0.4)
BuildTools:   ocamlbuild
OCamlVersion: >= 4.02

Library protobuf
  Path:           lib
  Modules:        Protobuf

Executable ppx_protobuf
  Path:           lib
  BuildDepends:   compiler-libs.common, ppx_tools, extlib
  MainIs:         ppx_protobuf.ml
  CompiledObject: best
  ByteOpt:        -ppx 'ocamlfind ppx_tools/ppx_metaquot'
  NativeOpt:      -ppx 'ocamlfind ppx_tools/ppx_metaquot'

Test test_ppx_protobuf
  Command:        ocamlbuild -I lib -package uint -package oUnit  \
                             -cflags '-ppx $ppx_protobuf' \
                             lib_test/test_ppx_protobuf.byte --
  TestTools:      ppx_protobuf
