OASISFormat:  0.4
Name:         ppx_protobuf
Version:      0.9.0
Synopsis:     A Protobuf codec generator for OCaml >=4.02 based on extension points
Authors:      Peter Zotov <whitequark@whitequark.org>
Homepage:     https://github.com/whitequark/ocaml-ppx_protobuf
License:      MIT
Plugins:      META (0.4), DevFiles (0.4)
BuildTools:   ocamlbuild
OCamlVersion: >= 4.02

Library "protobuf"
  Path:           lib
  Modules:        Protobuf
  XMETAExtraLines: ppx = "ppx_protobuf"

Executable "ppx_protobuf"
  Path:           lib
  BuildDepends:   compiler-libs.common, ppx_tools.metaquot, extlib
  MainIs:         ppx_protobuf.ml
  CompiledObject: best

Test "test_ppx_protobuf"
  Command:        ocamlbuild -I lib -package uint -package oUnit  \
                             -cflags '-safe-string -ppx $ppx_protobuf' \
                             lib_test/test_ppx_protobuf.byte --
  TestTools:      ppx_protobuf

AlphaFeatures: ocamlbuild_more_args
Document "api"
  Type:           ocamlbuild (0.4)
  BuildTools:     ocamldoc
  Title:          API reference for ppx_protobuf

  XOCamlbuildPath:      .
  XOCamlbuildExtraArgs: "-docflags '-colorize-code -short-functors -charset utf-8'"
  XOCamlbuildLibraries: protobuf

SourceRepository "master"
  Type:           git
  Location:       https://github.com/whitequark/ocaml-ppx_protobuf.git
  Branch:         master
  Browser:        https://github.com/whitequark/ocaml-ppx_protobuf
